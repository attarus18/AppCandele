<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WAX PRO – Candle Calculator</title>
<style>
:root{--main-bg:#2c2c2c;--panel-bg:#3d3d3d;--accent:#ffa500;--text:#ffffff;}
body{
  background:var(--main-bg);color:var(--text);font-family:'Segoe UI',Tahoma,sans-serif;
  display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;padding:20px;
}
.container{
  background:var(--panel-bg);padding:40px 30px;border-radius:15px;
  width:100%;max-width:500px;box-shadow:0 4px 15px rgba(0,0,0,.5);
}
h1{color:var(--accent);text-align:center;margin-bottom:20px;font-size:2em;}
button{
  flex:1 1 45%;padding:12px 20px;border:none;border-radius:8px;background:var(--accent);
  color:var(--main-bg);font-size:1rem;font-weight:bold;cursor:pointer;transition:background .3s;
}
button:hover{background:#ffc14d;}
input,select{
  background:#505050;color:#fff;border:1px solid #555;border-radius:8px;
  padding:10px;width:100%;margin-bottom:20px;
}
.slider-value{color:var(--accent);font-weight:bold;}
.tasti-container{display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between;margin-top:20px;}
.home{display:block;text-align:center;margin-bottom:20px;color:var(--accent);text-decoration:none;font-weight:bold;}
#risultato{margin-top:25px;text-align:center;font-size:1.1em;background:var(--main-bg);padding:15px;border-radius:8px;}
@media (max-width:600px){
  body{padding:4px;}
  .container{
    padding:16px 4px;
    max-width:98vw;
    border-radius:10px;
  }
  h1{font-size:1.2em;margin-bottom:12px;}
  .tasti-container{flex-direction:column;gap:7px;}
  button{padding:10px 8px;font-size:0.95em;}
  input,select{padding:7px;font-size:0.95em;}
  #risultato{font-size:1em;padding:10px;}
}
</style>
</head>
<body>
<div class="container">
<a href="index.html" class="home">Home</a>
<h1 id="title"></h1>

<label id="labelUnit"></label>
<select id="unitSelect">
  <option value="g">g</option><option value="kg">kg</option>
  <option value="lb">lb</option><option value="oz">oz</option>
</select>

<label id="labelPeso"></label>
<input type="number" id="pesoInput" placeholder="100">

<label id="labelFragranza"></label>
<input type="range" id="percFragranza" min="1" max="35" value="5">
<span id="valoreFragranza" class="slider-value">5%</span><br><br>

<label id="labelColore"></label>
<input type="range" id="percColore" min="0" max="25" value="1" step="0.1">
<span id="valoreColore" class="slider-value">1%</span>

<div class="tasti-container">
  <button id="calcola"></button>
  <button id="reset"></button>
</div>
<div id="risultato"></div>
</div>

<script>
const translations={
  en:{
    title:"Candle Calculator",
    unit:"Unit of measure",
    peso:"Total weight",
    frag:"Fragrance % (1–35)",
    col:"Color % (0–25)",
    calc:"Calculate",reset:"Reset",
    err:"Enter a valid total weight.",
    res:(w,u,wax,fra,colr)=>`For <b>${w} ${u}</b>:<br>
    Wax: <b>${wax.toFixed(2)} ${u}</b><br>
    Fragrance: <b>${fra.toFixed(2)} ${u}</b><br>
    Color: <b>${colr.toFixed(2)} ${u}</b>`
  },
  it:{
    title:"Calcolatore Candele",
    unit:"Unità di misura",
    peso:"Peso totale",
    frag:"% Fragranza (1–35)",
    col:"% Colore (0–25)",
    calc:"Calcola",reset:"Reset",
    err:"Inserisci un peso totale valido.",
    res:(w,u,wax,fra,colr)=>`Per <b>${w} ${u}</b>:<br>
    Cera: <b>${wax.toFixed(2)} ${u}</b><br>
    Fragranza: <b>${fra.toFixed(2)} ${u}</b><br>
    Colore: <b>${colr.toFixed(2)} ${u}</b>`
  },
  fr:{
    title:"Calculateur de Bougies",
    unit:"Unité de mesure",
    peso:"Poids total",
    frag:"% Parfum (1–35)",
    col:"% Colorant (0–25)",
    calc:"Calculer",reset:"Réinitialiser",
    err:"Entrez un poids total valide.",
    res:(w,u,wax,fra,colr)=>`Pour <b>${w} ${u}</b>:<br>
    Cire: <b>${wax.toFixed(2)} ${u}</b><br>
    Parfum: <b>${fra.toFixed(2)} ${u}</b><br>
    Colorant: <b>${colr.toFixed(2)} ${u}</b>`
  },
  de:{
    title:"Kerzenrechner",
    unit:"Maßeinheit",
    peso:"Gesamtgewicht",
    frag:"Duft % (1–35)",
    col:"Farbe % (0–25)",
    calc:"Berechnen",reset:"Zurücksetzen",
    err:"Bitte ein gültiges Gesamtgewicht eingeben.",
    res:(w,u,wax,fra,colr)=>`Für <b>${w} ${u}</b>:<br>
    Wachs: <b>${wax.toFixed(2)} ${u}</b><br>
    Duft: <b>${fra.toFixed(2)} ${u}</b><br>
    Farbe: <b>${colr.toFixed(2)} ${u}</b>`
  },
  es:{
    title:"Calculadora de Velas",
    unit:"Unidad de medida",
    peso:"Peso total",
    frag:"% Fragancia (1–35)",
    col:"% Colorante (0–25)",
    calc:"Calcular",reset:"Restablecer",
    err:"Ingrese un peso total válido.",
    res:(w,u,wax,fra,colr)=>`Para <b>${w} ${u}</b>:<br>
    Cera: <b>${wax.toFixed(2)} ${u}</b><br>
    Fragancia: <b>${fra.toFixed(2)} ${u}</b><br>
    Colorante: <b>${colr.toFixed(2)} ${u}</b>`
  }
};

const lang=localStorage.getItem('wax_lang')||'en';
const t=translations[lang];

document.getElementById('title').textContent=t.title;
document.getElementById('labelUnit').textContent=t.unit;
document.getElementById('labelPeso').textContent=t.peso;
document.getElementById('labelFragranza').textContent=t.frag;
document.getElementById('labelColore').textContent=t.col;
document.getElementById('calcola').textContent=t.calc;
document.getElementById('reset').textContent=t.reset;

const peso=document.getElementById('pesoInput'),
      frag=document.getElementById('percFragranza'),
      col=document.getElementById('percColore'),
      res=document.getElementById('risultato'),
      valF=document.getElementById('valoreFragranza'),
      valC=document.getElementById('valoreColore');

frag.oninput=()=>valF.textContent=frag.value+'%';
col.oninput=()=>valC.textContent=parseFloat(col.value).toFixed(1)+'%';

document.getElementById('calcola').onclick=()=>{
  const w=parseFloat(peso.value);
  if(isNaN(w)||w<=0){res.innerHTML=t.err;return;}
  const f=parseFloat(frag.value), c=parseFloat(col.value);
  const total=100+f+c;
  const wax=(w*100)/total, fra=(w*f)/total, colr=(w*c)/total;
  res.innerHTML=t.res(w,document.getElementById('unitSelect').value,wax,fra,colr);
};
document.getElementById('reset').onclick=()=>{
  peso.value='';frag.value=5;col.value=1;valF.textContent='5%';valC.textContent='1%';res.innerHTML='';
};
</script>
</body>
</html>
